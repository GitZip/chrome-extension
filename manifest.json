{
    "manifest_version": 3,

    "name": "GitZip for github",
    "description": "It can make the sub-directories and files of github repository as zip and download it",
    "version": "0.4.2",

    "icons": {
        "16": "images/icon-16px.png",
        "32": "images/icon-32px.png",
        "48": "images/icon-48px.png",
        "128": "images/icon-128px.png"
    },

    "action": {
        "default_popup": "popup.html"
    },

    // "background": {
    //     "persistent": false,
    //     "scripts": [
    //         "js/adgoal.background.bundle.js",
    //         "js/background.js"
    //     ]
    // },

    "background": {
        "service_worker": "js/background.js"
    },

    "permissions": [
        "storage",
        "contextMenus"
    ],

    "host_permissions": [
        "https://api.github.com/*",
        "https://*/*"
    ],

    "content_scripts": [
        {
            "matches": ["*://github.com/*"],
            "js": ["js/content/jszip.min.js","js/content/FileSaver.min.js","js/content/main.js"],
            "css": ["css/main.css"]
        },
        {
            "matches": ["*://github.com/*", "*://gitzip.org/*"],
            "js": ["js/content/show.js"]
        },
        {
            "matches": ["*://kinolien.github.io/gitzip/*"],
            "js": ["js/content/keysync.js"]
        },
        {
            "matches": ["*://gitzip.org/gettoken/success"],
            "js": ["js/content/autosave.js"]
        }
    ],

    "content_security_policy": {
        "extension_pages": "script-src 'self'; object-src 'self'; worker-src 'self'"
    }
}
